[workspace]
# Git tag format for releases
git_tag_name = "v{{version}}"

# Generate changelog
changelog_update = true
changelog_path = "CHANGELOG.md"

# Conventional commits configuration
conventional_commits = true

# Allow prereleases (alpha, beta, rc)
allow_dirty = false

# Only release on main branch
release_branch = "main"

[[package]]
name = "microlog"
path = "core"

# Custom changelog template
changelog_include = [
    "feat",
    "fix",
    "perf",
    "refactor",
    "style",
    "docs",
    "test",
    "build",
    "ci",
    "chore"
]

# Dependency update strategy
dependencies_update = true

# Release PR configuration
[workspace.pr]
# PR title template
title = "release: {{package}} {{version}}"

# PR body template
body = """
## Summary

This PR bumps {{package}} to version {{version}}.

## Changes

{{changelog}}

## Release Checklist

- [ ] All tests pass
- [ ] Documentation is up to date
- [ ] Breaking changes are documented
- [ ] Version bump is correct

This PR was automatically generated by release-plz.
"""

# Labels for the release PR
labels = ["release", "automated"]